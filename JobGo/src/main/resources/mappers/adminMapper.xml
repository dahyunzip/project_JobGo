<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "https://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.itwillbs.mapper.adminMapper">

	<!-- 일반회원 목록 -->
	<select id="getAllNormalMembers" resultType="com.itwillbs.domain.MemberVO">
		select id, userid, name, email, phone, membertype
		from member
		where membertype = 'G'
		order BY id desc
	</select>

	<!-- 기업회원 목록 -->
	<select id="getAllCorpMembers" resultType="com.itwillbs.domain.CorpMemberVO">
		select 
			corp_id        as id,
			corp_userid    as userid,
			manager_name   as name,
			manager_email  as email,
			manager_tel    as phone,
			industry_type  as membertype
		from corpmember
		order by corp_id desc
	</select>

	<!-- 회원 삭제 -->
	<delete id="deleteMember" parameterType="int">
		delete from member where id = #{id}
	</delete>
	
	<!-- 리뷰 전체 목록 조회 -->
	<select id="getAllReviews" resultType="com.itwillbs.domain.ReviewVO">
		select 
			r.review_id as reviewId,
			r.member_id as memberId,
			r.corp_id as corpId,
			r.job_code as jobCode,
			r.rev_title as revTitle,
			r.rev_content as revContent,
			r.rev_rate as revRate,
			r.rev_public as revPublic,
			r.rev_created as revCreated
		from review r
		order by r.review_id desc
	</select>

	<!-- 리뷰 삭제 -->
	<delete id="deleteReview" parameterType="int">
		delete from review where review_id = #{reviewId}
	</delete>

</mapper>