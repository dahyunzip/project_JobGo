<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper 
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" 
  "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
  
  <mapper namespace="com.itwillbs.mapper.ReplyMapper">
  	<!-- 댓글 목록 조회 -->
  	<select id="selectReplyList" resultType="ReplyVO">
  		select 
  			r.reply_no,
  			r.reply_content,
  			r.ref_bno,
  			r.reply_writer,
  			m.name as writerName,
  			m.userid as writerUserid,
  			r.create_date,
  			r.status
  		from reply r 
  		join member m on r.reply_writer = m.id 
  		where r.ref_bno = #{ref_bno} 
  		and r.status = 'Y' 
  		order by r.reply_no desc
  	</select>
  
  </mapper>